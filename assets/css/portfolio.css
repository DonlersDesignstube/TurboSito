.ph-media{width:100%;aspect-ratio:16/9;background:linear-gradient(135deg,#e5e7eb,#d1d5db);}
html[data-theme="dark"] .ph-media{background:linear-gradient(135deg,#374151,#1f2937);}
.badge{display:inline-block;background:#e5e7eb;color:#374151;font-size:.75rem;padding:0.125rem 0.5rem;border-radius:0.25rem;}
html[data-theme="dark"] .badge{background:#374151;color:#f3f4f6;}
.tag-pill{display:inline-block;font-size:.75rem;padding:0.125rem 0.5rem;border-radius:9999px;line-height:1.25rem;background:#f3f4f6;color:#374151;}
html[data-theme="dark"] .tag-pill{background:#374151;color:#f3f4f6;}
.highlight-box{background:#f3f4f6;color:#374151;border-radius:0.75rem;padding:1rem;display:flex;align-items:center;gap:0.5rem;}
html[data-theme="dark"] .highlight-box{background:#1f2937;color:#f3f4f6;}
.hover-lift{transition:transform .2s ease,box-shadow .2s ease}
.hover-lift:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}
.kpi-row{color:#374151}
html[data-theme="dark"] .kpi-row{color:#f3f4f6}
[role="tab"]{border-color:#d1d5db}
html[data-theme="dark"] [role="tab"]{border-color:#374151}
[role="tab"][aria-selected="true"]{background:#F97316;color:#fff}
.case-card{content-visibility:auto;contain-intrinsic-size:200px;}
.case-card:focus-within{outline:2px solid #000;outline-offset:2px;}
.skeleton{background:linear-gradient(90deg,#e5e7eb,#f3f4f6,#e5e7eb);background-size:200% 100%;animation:sk 1.2s infinite linear;}
@keyframes sk{0%{background-position:200% 0}to{background-position:-200% 0}}
:focus-visible{outline:2px solid #000;outline-offset:2px}
@media (prefers-reduced-motion: reduce){
  *{transition:none!important;animation:none!important}
  .hover-lift:hover{transform:none;box-shadow:none}
}
/* === Filterleiste ======================================================== */
.filters-bar{
  display:flex; align-items:center; gap:.75rem;
  justify-content:space-between; margin-bottom:1.25rem;
  flex-wrap:wrap;
}
.tabs{ display:flex; gap:.5rem; flex-wrap:wrap; }
.tab{
  padding:.4rem .7rem; border:1px solid var(--border, rgba(255,255,255,.15));
  border-radius:.5rem; background:transparent; font-weight:600;
}
.tab[aria-selected="true"]{
  background:var(--accent, #f59e0b); color:#111; border-color:transparent;
  box-shadow:0 1px 0 rgba(0,0,0,.06), 0 0 0 2px color-mix(in oklab, var(--accent), transparent 70%);
}

/* Sort rechts, Dropdown hübsch */
.sort{ position:relative; margin-left:auto; }
.sort-btn{
  padding:.45rem .75rem; border:1px solid var(--border, rgba(255,255,255,.15));
  border-radius:.6rem; background:var(--surface-2, rgba(255,255,255,.04));
}
.sort-menu{
  position:absolute; right:0; top:calc(100% + .35rem);
  min-width:12rem; background:var(--surface, #fff);
  color:inherit; border:1px solid var(--border, rgba(0,0,0,.1));
  border-radius:.6rem; box-shadow:0 10px 25px rgba(0,0,0,.15); z-index:20;
}
.menu-item{ padding:.55rem .75rem; cursor:pointer; }
.menu-item[aria-selected="true"]{ font-weight:700; }

/* === Karten ============================================================= */
.case-card{ display:flex; flex-direction:column; height:100%; }
.ph-media{
  aspect-ratio:16/9; border-radius:.5rem; margin-bottom:.75rem;
  background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(0,0,0,.05));
  opacity:.9;
}
.badge{ display:inline-block; font-size:.75rem; padding:.15rem .45rem;
  border-radius:.5rem; background:var(--surface-2, rgba(255,255,255,.06)); }
.tag-pill{ padding:.15rem .45rem; border-radius:999px; background:var(--surface-2, rgba(255,255,255,.06)); }
.kpi-row{ opacity:.85; }

/* CTAs an den Kartenboden drücken */
.case-card .actions{ margin-top:auto; }

/* Hover-Lift moderat und RM-sicher */
.hover-lift{ transition:transform .2s ease, box-shadow .2s ease; }
@media (hover:hover){
  .hover-lift:hover{ transform:translateY(-2px); box-shadow:0 8px 24px rgba(0,0,0,.18); }
}
@media (prefers-reduced-motion: reduce){
  .hover-lift{ transition:none; }
}

/* === Skeletons ========================================================== */
.skeleton{ position:relative; overflow:hidden; background:var(--surface-2, rgba(255,255,255,.06)); }
.skeleton::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);
  transform:translateX(-100%); animation:sk 1.2s infinite;
}
@keyframes sk{ to{ transform:translateX(100%);} }

/* === Light-Theme Kleinigkeiten ========================================= */
html[data-theme="light"] .tab{ border-color:rgba(0,0,0,.12); }
html[data-theme="light"] .sort-btn{ background:#fff; }
html[data-theme="light"] .ph-media{ background:linear-gradient(180deg,#f3f4f6,#e5e7eb); }


/* Aktiver Filter sichtbar – funktioniert ohne Klasse .tab */
[role="tab"]{
  padding:.4rem .7rem;border:1px solid var(--border,rgba(255,255,255,.15));
  border-radius:.5rem;background:transparent;font-weight:600
}
[role="tab"][aria-selected="true"]{
  background:var(--accent,#f59e0b);color:#111;border-color:transparent;
  box-shadow:0 0 0 2px color-mix(in oklab,var(--accent,#f59e0b),transparent 75%);
}
[role="tab"]:focus-visible{ outline:2px solid color-mix(in oklab,var(--accent,#f59e0b),#000 30%); outline-offset:2px }

/* Sort-Menü Optik konsistent */
#sort-button{ padding:.45rem .75rem;border:1px solid var(--border,rgba(255,255,255,.15));border-radius:.6rem }
#sort-menu{
  position:absolute; right:0; top:calc(100% + .35rem); min-width:12rem; z-index:20;
  background:var(--surface,#fff); border:1px solid var(--border,rgba(0,0,0,.12)); border-radius:.6rem;
  box-shadow:0 10px 25px rgba(0,0,0,.15)
}
#sort-menu .menu-item{ padding:.55rem .75rem; cursor:pointer }
#sort-menu .menu-item[aria-selected="true"]{ font-weight:700 }

/* =========================
   Portfolio – Kontrast-Fixes
   ========================= */

/* Karten verwenden konsistente Vorder-/Hintergründe */
.case-card{
  background:var(--card-bg);
  color:var(--card-fg);
  border-color:var(--card-border);
  display:flex; flex-direction:column; /* CTAs an Kartenboden */
}
.case-card h3{ color:var(--card-fg-strong) }

/* Platzhalter / Media */
.ph-media{
  aspect-ratio:16/9; border-radius:.5rem; margin-bottom:.75rem;
  background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(0,0,0,.06));
  opacity:.95;
}

/* Chips & Badges gut lesbar */
.badge{
  display:inline-block; font-size:.75rem; padding:.15rem .45rem;
  border-radius:.5rem; background:var(--badge-bg); color:var(--badge-fg);
}
.tag-pill{
  padding:.15rem .45rem; border-radius:999px;
  background:var(--pill-bg); color:var(--pill-fg); border:1px solid var(--pill-border);
}

/* KPI-Reihe */
.kpi-row{ color:var(--kpi-fg) }

/* Link auf dunkler Karte */
.case-card .link{
  color:var(--link-on-card); text-underline-offset:2px;
}
.case-card .link:hover{ text-decoration:underline }

/* Tabs: aktive deutlich sichtbar (nutzt schon aria-selected) */
[role="tab"]{
  padding:.4rem .7rem; border:1px solid var(--tab-border, rgba(255,255,255,.15));
  border-radius:.5rem; background:var(--tab-bg, transparent); font-weight:600;
}
[role="tab"][aria-selected="true"]{
  background:var(--accent, #f59e0b); color:#111; border-color:transparent;
  box-shadow:0 0 0 2px color-mix(in oklab,var(--accent,#f59e0b),transparent 75%);
}
[role="tab"]:focus-visible{ outline:2px solid color-mix(in oklab,var(--accent,#f59e0b),#000 30%); outline-offset:2px }

/* Sort-Menü hohe Lesbarkeit */
#sort-button{
  padding:.45rem .75rem; border:1px solid var(--border, rgba(255,255,255,.15));
  border-radius:.6rem; background:var(--surface-2);
}
#sort-menu{
  position:absolute; right:0; top:calc(100% + .35rem); min-width:12rem; z-index:20;
  background:var(--menu-bg); color:var(--menu-fg);
  border:1px solid var(--menu-border); border-radius:.6rem;
  box-shadow:0 10px 25px rgba(0,0,0,.15);
}
#sort-menu .menu-item{ padding:.55rem .75rem; cursor:pointer }
#sort-menu .menu-item[aria-selected="true"]{ font-weight:700 }

/* Hover-Lift dezent & RM-sicher */
.hover-lift{ transition:transform .2s ease, box-shadow .2s ease }
@media (hover:hover){
  .hover-lift:hover{ transform:translateY(-2px); box-shadow:0 8px 24px rgba(0,0,0,.18) }
}
@media (prefers-reduced-motion: reduce){
  .hover-lift{ transition:none }
}

/* ---------- Theme-Token (Dark/Light) ---------- */
:root{ --accent:#ff9d1e } /* dein Orange */

html[data-theme="dark"]{
  --surface:#0a0f1a;
  --surface-2:#0b1220;
  --border:rgba(255,255,255,.12);

  /* Karten bewusst dunkel in beiden Themes */
  --card-bg:#0f172a;        /* slate-900 */
  --card-border:#243041;    /* slate-800 */
  --card-fg:#e5e7eb;        /* slate-200 */
  --card-fg-strong:#f8fafc; /* slate-50 */

  --badge-bg:#1f2937;       /* slate-800 */
  --badge-fg:#e5e7eb;

  --pill-bg:#223247;        /* custom dunkel */
  --pill-border:#2f3e55;
  --pill-fg:#f1f5f9;

  --kpi-fg:#dbeafe;         /* sky-200 */
  --link-on-card:#93c5fd;   /* sky-300 */

  --menu-bg:#0f172a;        /* Sort-Menü */
  --menu-fg:#e5e7eb;
  --menu-border:#243041;

  --tab-border:rgba(255,255,255,.15);
  --tab-bg:transparent;
}

html[data-theme="light"]{
  --surface:#f7f9fc;
  --surface-2:#ffffff;
  --border:rgba(2,6,23,.12);

  /* Dunkle Karten beibehalten, Kontrast hoch */
  --card-bg:#0f172a;
  --card-border:#d0d5dd33;
  --card-fg:#f1f5f9;
  --card-fg-strong:#ffffff;

  --badge-bg:#0b1220;
  --badge-fg:#e5e7eb;

  --pill-bg:#1c2534;
  --pill-border:#2b3a50;
  --pill-fg:#f8fafc;

  --kpi-fg:#e2e8f0;
  --link-on-card:#60a5fa;   /* sky-400 */

  --menu-bg:#ffffff;
  --menu-fg:#0f172a;
  --menu-border:#e2e8f0;

  --tab-border:rgba(2,6,23,.12);
  --tab-bg:transparent;
}
/* ===============================
   Dark Theme – Kontrast-Finetune
   =============================== */
   :root{ --accent:#ff9d1e } /* bleibt dein Orange */

   /* dunkle Grundfarben mit mehr Kontrast */
   html[data-theme="dark"]{
     --surface:#0b1020;        /* Seitenhintergrund */
     --surface-2:#111a2b;      /* UI-Flächen/Buttons auf dunklem */
     --border:rgba(255,255,255,.14);
   
     /* Karte bewusst etwas heller + klarere Kanten */
     --card-bg:#101827;        /* ~slate-900 */
     --card-border:#293244;    /* heller als zuvor */
     --card-fg:#e6edf3;        /* Text auf Karte */
     --card-fg-strong:#ffffff; /* starke Headlines */
   
     /* Badges/Tags besser abgesetzt */
     --badge-bg:#1a2335;
     --badge-fg:#eaf2ff;
   
     --pill-bg:#182335;
     --pill-border:#2c3a52;
     --pill-fg:#e6edf3;
   
     /* KPI & Links auf Karte */
     --kpi-fg:#cbd5e1;
     --link-on-card:#93c5fd;
   
     /* Sort-Menü/Popover */
     --menu-bg:#101827;
     --menu-fg:#e6edf3;
     --menu-border:#2a364a;
   
     --tab-border:rgba(255,255,255,.14);
   }
   
   /* Sort-Button im Dark deutlicher */
   #sort-button{
     background:var(--surface-2);
     color:var(--card-fg);
     border-color:var(--border);
   }
   #sort-button:hover{
     box-shadow:0 0 0 2px rgba(255,255,255,.08) inset;
   }
   
   /* CTA auf Karte nicht „gedimmt“, immer orange mit gutem Kontrast */
   .case-card .btn-primary{
     background:var(--accent,#ff9d1e);
     color:#111 !important;
     border-color:color-mix(in oklab,var(--accent,#ff9d1e),#000 25%);
   }
   .case-card .btn-primary:hover{ filter:brightness(1.05) }
   .case-card .btn-primary:focus-visible{
     outline:2px solid color-mix(in oklab,var(--accent,#ff9d1e),#000 35%);
     outline-offset:2px;
   }
   
   /* Links und KPI-Reihe auf der Karte besser lesbar */
   .case-card .link{ color:var(--link-on-card) }
   .kpi-row{ color:var(--kpi-fg) }
   